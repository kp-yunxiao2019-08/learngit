### Linux

​	__一切皆文件__

- 命令行

  - shell：一个程序。
    - 接收键盘命令传给操作系统去执行。
    - bash，shell的一个项目

- 基础命令

  | 命令      | 功能                         | 常用参数                                                     |
  | --------- | ---------------------------- | ------------------------------------------------------------ |
  | date      | 显示系统当前日期             |                                                              |
  | cal       | 显示当月日历                 |                                                              |
  | df        | 查看磁盘剩余空间             |                                                              |
  | pwd       | 显示当前工作目录             |                                                              |
  | ls        | 显示指定目录下文件           | -t 按文件修改先后顺序来排<br>-S 按文件大小来排<br/>-i 显示文件节点(id)<br/>-l 显示文件简单信息 |
  | file      | 显示指定文件的详细信息       | file filename                                                |
  | less      | 显示部分文件内容，可滚动浏览 | less filename                                                |
  | cp        | 复制文件                     | -a 复制文件或目录及其权限<br>-r 递归复制目录<br>-u 仅复制目标目录不存在的文件，或目标文件不存在的内容 |
  | head/tail | 查看文件首尾内容             | -n 查看指定行数<br>tail -f file 可以实时查看文件结尾内容     |

- 符号链接`ln`

  - `ln file1 file2`  硬链接，用`ls -li`查看`file1 file2`节点(id)一致
    - 删除file1,file2仍然存在，有内容。
  - `ln -s file1 file2`  符号链接，
    - 用`ls -li `查看`file1 file2`会显示`file2 -> file1`，
    - 修改其中一个文件另一个文件会改变，
    - 删除file1,file2仍然存在，但无内容。
    - 把其他文件名字改为file1，file2内容会和新file1内容一致

- 创建文件快捷式

  - `touch file_{1..3}`  # `mkdir`类似
    - `file_1	file_2	file_3`
  - `touch file_{a..c}`
    - `file_a	file_b	file_c`

- __通配符___。接受文件名作为参数的任何命令，都可以使用通配符

  - | 通配符                | 意义                                                |
    | --------------------- | --------------------------------------------------- |
    | *                     | 匹配任意多个字符（包括零个或一个）                  |
    | ?                     | 匹配任意一个字符（不包括零个）                      |
    | [characters]          | 匹配任意一个属于字符集中的字符                      |
    | [!characters]         | 匹配任意一个不是字符集中的字符                      |
    | [[:class:]]           | 匹配任意一个属于指定字符类中的字符                  |
    | [:alnum:]             | 匹配任意一个字母或数字                              |
    | [:alpha:]             | 匹配任意一个字母                                    |
    | [:digit:]             | 匹配任意一个数字                                    |
    | [:lower:]             | 匹配任意一个小写字母                                |
    | [:upper:]             | 匹配任意一个大写字母                                |
    | 例：                  |                                                     |
    | g*                    | 文件名以“g”开头的文件                               |
    | Data???               | 以“Data”开头，其后紧接着 3 个字符的文件             |
    | [abc]*                | 文件名以”a”,”b”, 或”c” 开头的文件                   |
    | BACK.[0-9]\[0-9][0-9] | 以”BACK.” 开头，并紧接着 3 个数字的文件             |
    | [[:upper:]]*          | 以大写字母开头的文件                                |
    | [![:digit:]]*         | 不以数字开头的文件                                  |
    | *[[:lower:]123]       | 文件名以小写字母结尾，或以“1”，“2”，或“3”结尾的文件 |

- 命令行快捷键

  | 快捷键     | 功能                                   |
  | ---------- | -------------------------------------- |
  | Ctrl-a     | 移动光标到行首                         |
  | Ctrl-e     | 移动光标到行尾                         |
  | Ctrl-t     | 光标位置的字符和光标前面的字符互换位置 |
  | __Ctrl-r__ | 反向查找历史命令                       |

  

  

- 系统目录

  - `/usr/bin/`：系统程序目录，包含系统启动和运行所必须的二进制程序

  - `/boot`：包含 Linux 内核、初始 RAM 磁盘映像（用于启动时所需

    的驱动）和启动加载程序。

    - `/boot/grub/grub.conf or menu.lst`，被用来配置启动

      加载程序。

    -  `/boot/vmlinuz`，Linux 内核。

  - `/dev`：在这个目录里，内核维护着所有设备的列表

  - `/etc`：包含所有系统层面的配置文件。

    - 它也包含一系列的 shell 脚本，在系统启动时，这些脚本会开启每个系统服务
    - `/etc/crontab`，定义自动运行的任务
    - `/etc/fstab`，包含存储设备的列表，以及与他们相关的挂载点
    - `/etc/passwd`，包含用户帐号列表

  - `/home`：普通用户的操作目录

  - `/lib`：包含核心系统程序所使用的共享库文件

  - `/lost+found`：每个使用 Linux 文件系统的格式化分区或设备。

    - 这个目录应该是空的，除非文件系统真正的损坏了。

  - `/opt`：用来安装“可选的”软件

  - `/usr`：包含普通用户所需要的所有程序和文件

    - `/usr/bin`: 包含系统安装的可执行程序
    - `/usr/lib `：包含由/usr/bin 目录中的程序所用的共享库
    - `/usr/local `：是非系统发行版自带程序的安装目录
    - `/usr/share `：录包含许多由/usr/bin 目录中的程序使用的共享数据
    - `/usr/share/doc `：软件包分类的文档

- __文件权限__`- rwx rwx rwx`

  - 第一个为`-`表示普通文件，为`d`表示文件夹
  - 第一个`rwx`是文件所有者的访问权限
  - 第二个`rwx`是文件所属组中成员的访问权限
  - 第三个`rwx`是其他所有人的访问权限

- 重定向

  - 标准输入、输出和错误，shell 内部分别将其称为文件描述符 0、1 和 2
  - 重定向标准错误，用`2>`
    - ` ls -l /bin/usr 2> ls-error.txt`
  - 重定向标准输出和错误到同一个文件
    - `ls -l /bin/usr &> ls-error.txt`

- 用管道操作符 `|`（竖杠）

  - ` ls -l dir | less`  
  - 过滤器: `sort`,`uniq`, `grep`...
    - `ls -l dir1 dir2 |sort|less` 对文件dir1、dir2的文件名排序后再用less查看
    - `ls -l dir1 dir2 |sort|uniq|less` 对文件dir1、dir2的文件名排序去重后再用less查看
      - 把`uniq`换为`uniq -d`可以查看去重部分的文件
      - `uniq`和`sort`互换位置后去重失败，
        - `uniq`只对同一个文件的输出去重

  

