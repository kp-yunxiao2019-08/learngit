奇葩正则

```python
import re
re1 = re.compile(r'((?!<br/>).)*')
re2 = re.compile(r'((?<!<br/>).)*')

# 第一个括号作为一个分组，分组内代表`写`之后的一个字符(假如为a)，则`a`后不为`<br/>①|①|》|《`。
# 注意：`写`之后必须匹配一个字符后才会进入`?!`后的判定
re3 = re.compile(r'写(.(?!<br/>①|①|》|《))*文章')

s1 = '123<br/>456'
re1.search(s1).group()  # 123
re2.search(s2).group()  # 123<br/>


```

- 回溯引用

```python
import re
re1 = re.compile(r'[ ]+(\w+)[ ]+\1')
s1 = 'we are are best! are you ok ok ?'
re1.findall(s1).group()
# 结果：[' are are', ' ok ok']
# [注]：当(\w+)匹配到什么\1就是什么
```

- 回溯引用条件

```python
123-456-7890
(123)456-7890
(123)-456-7890
(123-456-7890
1234567890
123 456 7890
import re
# 观察得：分组1通常会追加?，即可有可无
# 分组1匹配成功则分组二的`)`必须匹配，否则`-`必须被匹配。即最开始的三个数字两边括号配对出现或没有括号(没有括号时要有-)
re1 = re.compile(r'(\()?\d{3}(?(1)\)|-)\d{3}-\d{4}')
re1.search(str1)
# 结果：


```

